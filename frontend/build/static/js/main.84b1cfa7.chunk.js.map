{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/InfoTooltip.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","className","src","logo","alt","onClick","isClicked","userEmail","to","path","onSignOut","link","Card","card","currentUserContext","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","onCardClick","title","onDeleteCard","type","name","onCardLike","length","Main","userContext","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","id","Math","random","Footer","ImagePopup","onClose","adress","token","this","_adress","_token","result","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponseData","profileName","profileDescription","method","body","JSON","stringify","cardName","cardLink","data","sendLike","removeLike","PopupWithForm","isOpen","onSubmit","required","children","value","button","EditProfilePopup","currentUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","event","target","placeholder","maxLength","minLength","EditAvatarPopup","avatarInput","useRef","avatarValue","current","onUpdateAvatar","ref","AddPlacePopup","setLink","withRouter","email","setEmail","password","setPassword","onLogin","InfoTooltip","isSuccsess","succsess","fail","onRegister","ProtectedRoute","Component","component","loggedIn","BASE_URL","register","login","Accept","response","localStorage","setItem","getContent","Authorization","setCurrentUser","userInfo","setuserInfo","setLoggedIn","headerInfo","setHeaderInfo","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditRegisterPopupOpen","setIsEditRegisterPopupOpen","isEditRegisterSuccsess","setIsEditRegisterSuccsess","selectedCard","setSelectedCard","selectedCardTitle","setSelectedCardTitle","setCards","closeAllPopups","registerSuccsess","handleRegisterPopupOpen","closeByEsc","keyCode","closeByOverlay","includes","a","Api","editProfileInfo","console","log","editAvatarInfo","getCards","key","changeLikeStatus","state","c","postCard","deleteCard","filter","auth","history","push","jwt","getItem","userData","clicked","window","addEventListener","getProfileInfo","catch","tokenCheck","useHistory","signOut","removeItem","Provider","onPopupOpen","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84b1cfa7.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header(props) {\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__container\">\n        <img src={logo} alt=\"логотип\" className=\"header__logo\" />\n        <button onClick={props.onClick} className=\"header__button\"></button>\n      </div>\n      <div\n        className={`header__autorization-container ${\n          props.isClicked ? \"header__autorization-container_visible\" : \"\"\n        }`}\n      >\n        <p className=\"header__user-email\">{props.userEmail}</p>\n        <Link className=\"header__link\" to={props.path}>\n          <p onClick={props.onSignOut} className=\"header__link\">\n            {props.link}\n          </p>\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nconst Card = ({card, ...props}) => {\n  const currentUserContext = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUserContext._id\n  const cardDeleteButtonClassName=(`${isOwn ? 'element__delete-btn' : 'element__delete-btn_inactive'}`)\n  const isLiked = props.likes.some(item => item._id === currentUserContext._id);\n  const   cardLikeButtonClassName = (`${isLiked ? 'element__like_active' : 'element__like'}`)\n  \n  function handleLikeClick() {\n    props.onCardLike(card)\n  }\n\n  function handleImageClick() {\n    props.onCardClick(card);\n  }\n\n  function handleDeleteclick() {\n    props.onDeleteCard(card)\n  }\n\n  return (\n      <div className=\"element\">\n        <img onClick={handleImageClick} alt={props.title} className=\"element__image\" src={props.link} />\n        <button onClick={handleDeleteclick} type=\"button\" name=\"delete-btn\" className={cardDeleteButtonClassName}></button>\n        <div className=\"element__description\">\n          <h2 className=\"element__title\">{props.name}</h2>\n          <div className=\"element__like-section\">\n            <button onClick={handleLikeClick} type=\"button\" className={cardLikeButtonClassName}></button>\n            <span className=\"element__like-counter\">{props.likes.length}</span>\n          </div>\n        </div>\n      </div>\n  )\n}\n\nexport default Card","import React from \"react\";  \nimport Card from \"./Card.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\n\nexport default function Main(props) {\n\n  const userContext = React.useContext(CurrentUserContext)\n  \n  return (\n    <main>\n      <section className=\"profile\">\n        <img src={userContext.avatar} alt=\"аватар\" className=\"profile__avatar\" />\n        <div className=\"profile__avatar-overlay\">\n          <button\n            onClick={props.onEditAvatar}\n            type=\"button\"\n            className=\"profile__avatar-edit-btn\"\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{userContext.name}</h1>\n          <button\n            onClick={props.onEditProfile}\n            type=\"button\"\n            className=\"profile__edit-btn\"\n          ></button>\n          <p className=\"profile__description\">{userContext.about}</p>\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          type=\"button\"\n          className=\"profile__add-btn\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map((card) => {\n\n          return (\n            <Card\n              key={card.id ?? Math.random()}\n              _id={card.id}\n              link={card.link}\n              name={card.name}\n              onCardClick={props.onCardClick}\n              likes={card.likes}\n              onCardLike={props.onCardLike}\n              onDeleteCard={props.onDeleteCard}\n              card={card}\n              owner={card.owner}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n","import React from \"react\"\n\nfunction Footer () {\n    return (\n        <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2021 Олег Заболотский </p>\n      </footer>\n    )\n}\n\nexport default Footer","import React from \"react\";\n\nexport default function ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_preview ${\n        props.card !== null ? \"popup_visible\" : \"\"\n      } `}\n      id=\"popupLargeCard\"\n    >\n      <div className=\"popup__content popup__content_preview\">\n        <img src={props.card} alt={props.title} className=\"popup__image\" />\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\"popup__close-btn popup__close-btn_preview\"\n        ></button>\n        <p className=\"popup__description\">{props.title}</p>\n      </div>\n    </div>\n  );\n}\n","export class Api {\n  constructor(adress, token) {\n    this._adress = adress;\n    this._token = token;\n  }\n\n  // Проверяем статус запроса\n  _getResponseData(result) {\n    if (result.ok) {\n      return result.json();\n    } else {\n      return Promise.reject(`Ошибка: ${result.status}`);\n    }\n  }\n\n  // Собираем карточки\n  getCards() {\n    return fetch(`${this._adress}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((result) => this._getResponseData(result));\n  }\n\n  // Берем данные профиля\n  getProfileInfo() {\n    return fetch(`${this._adress}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((result) => this._getResponseData(result));\n  }\n\n  // Редактируем данные профиля\n  editProfileInfo(profileName, profileDescription) {\n    return fetch(`${this._adress}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: profileName,\n        about: profileDescription,\n      }),\n    }).then((result) => this._getResponseData(result));\n  }\n\n  editAvatarInfo(avatar) {\n    return fetch(`${this._adress}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: avatar\n            })\n        })\n        .then(result => this._getResponseData(result))\n}\n\n  // Отправляем карточку\n  postCard(cardName, cardLink) {\n    return fetch(`${this._adress}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(cardName, cardLink),\n    }).then((result) => this._getResponseData(result));\n  }\n\n  // Удаляем карточку\n  deleteCard(id) {\n    return fetch(`${this._adress}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((result) => this._getResponseData(result));\n  }\n\n  changeLikeStatus(data, status) {\n        if (status) {\n            this.sendLike(data);\n            return this.sendLike(data)\n        } else {\n            this.removeLike(data)\n            return this.removeLike(data)\n        }\n    }\n\n\n//   Отправляем лайк\n  sendLike(data) {\n    return fetch(`${this._adress}/cards/likes/${data}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((result) => this._getResponseData(result));\n  }\n\n  // Удаляем лайк\n  removeLike(data) {\n    return fetch(`${this._adress}/cards/likes/${data}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((result) => this._getResponseData(result));\n  }\n}\n\nexport default new Api(\n  \"nomoredomains.mesto.nomoredomains.rocks\",\n  \"09fddbd8-b63c-4352-8240-79b061fd7f20\"\n);\n","import React from \"react\"\n\nexport default function PopupWithForm(props) {\n\n    return (\n        <div className={`popup ${props.isOpen ? 'popup_visible' :''}`} id={`popup${props.name}`}>\n            <div className=\"popup__content\">\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form onSubmit={props.onSubmit} name={`popup${props.name}Form`} id={`${props.id}-form`} method=\"post\" className=\"popup-form\" required>\n                    {props.children}\n                    <input type=\"submit\" name=\"submit\" value={props.button} className=\"popup-form__submit\" />\n                </form>\n                <button onClick={props.onClose} type=\"button\" className=\"popup__close-btn\"></button>\n            </div>\n        </div>\n    )\n}\n\n//нет спанов с ошибкой \n\n","import PopupWithForm from \"./PopupWithForm\";\nimport { React, useState, useContext, useEffect } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nexport default function EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser(name, description);\n  }\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeDescription(event) {\n    setDescription(event.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n      button={\"Сохранить\"}\n      id={\"profile\"}\n      isOpen={props.isOpen}\n      name=\"Profile\"\n      title=\"Редактировать профиль\"\n    >\n      <input\n        onChange={handleChangeName}\n        value={name || \"\"}\n        type=\"text\"\n        name=\"profileName\"\n        placeholder=\"Ваше Имя\"\n        className=\"popup-form__input popup-form__input_name\"\n        id=\"profile-input\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        required\n      />\n      <input\n        onChange={handleChangeDescription}\n        value={description || \"\"}\n        type=\"text\"\n        name=\"profileAbout\"\n        placeholder=\"О себе\"\n        className=\"popup-form__input popup-form__input_description\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport { React, useRef } from \"react\";\n\nexport default function EditAvatarPopup(props) {\n  // const [avatar, setAvatar] = useState('');\n\n  const avatarInput = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let avatarValue = avatarInput.current.value;\n    props.onUpdateAvatar(avatarValue);\n    avatarInput.current.value = \"\";\n  }\n\n  return (\n    <PopupWithForm\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      id=\"avatar\"\n      name=\"Avatar\"\n      title=\"Обновить аватар\"\n      button=\"Сохранить\"\n    >\n      <input\n        ref={avatarInput}\n        value={avatarInput.value}\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        name=\"avatarLink\"\n        className=\"popup-form__input\"\n        required\n      />\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport { React, useState } from \"react\";\n\n\nexport default function AddPlacePopup(props) {\n\n    const [name, setName] = useState('')\n    const [link, setLink] = useState('')\n\n    function handleNameInput (e) {\n        setName(e.target.value)\n    } \n\n    function handleLinkInput(e) {\n        setLink(e.target.value)\n    }\n\n    function submitHandle (e) {\n        e.preventDefault()\n\n        props.onSubmit({\n            name: name,\n            link: link\n        })\n        setName('')\n        setLink('')\n    }\n\n    return (\n             <PopupWithForm\n             onSubmit={submitHandle}\n        onClose={props.onClose}\n        id=\"cards\"\n        isOpen={props.isOpen}\n        name=\"Cards\"\n        title=\"Новое место\"\n        button=\"Отправить\"\n      >\n        <input\n          onChange={handleNameInput}\n          value={name}\n          type=\"text\"\n          placeholder=\"Название\"\n          name=\"cardName\"\n          className=\"popup-form__input popup-form__input_name\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n        />\n        <input\n            onChange={handleLinkInput}\n            value={link}\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          name=\"cardLink\"\n          className=\"popup-form__input popup-form__input_description\"\n          required\n        />\n      </PopupWithForm>\n    )\n}","import { useState } from \"react/cjs/react.development\";\nimport { withRouter } from \"react-router\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function changeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function changePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onLogin(email, password);\n  }\n\n  return (\n    <div className=\"autorization\">\n      <form\n        onSubmit={handleSubmit}\n        name=\"login\"\n        id=\"login-form\"\n        method=\"post\"\n        className=\"autorization-form\"\n        required\n      >\n        <h3 className=\"autorization-form__title\">Вход</h3>\n        <input\n          onChange={changeEmail}\n          value={email}\n          type=\"email\"\n          placeholder=\"Email\"\n          className=\"autorization-form__input\"\n          required\n        ></input>\n        <input\n          onChange={changePassword}\n          value={password}\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"autorization-form__input\"\n          required\n        ></input>\n        <input\n          type=\"submit\"\n          name=\"submit\"\n          value=\"Войти\"\n          className=\"autorization-form__submit\"\n        ></input>\n      </form>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","export default function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_visible\" : \"\"}`}>\n      <div className=\"popup__content\">\n        <img\n          className={`popup__image ${\n            props.isSuccsess ? \"popup__image_succsess\" : \"popup__image_fail\"\n          }`}\n        ></img>\n        <p className=\"popup__subtitle\">\n          {props.isSuccsess\n            ?  `${props.succsess}`\n            : `${props.fail}`}\n        </p>\n        <button onClose={props.onClose} className=\"popup__close-btn\"></button>\n      </div>\n    </div>\n  );\n}","import { Link, withRouter } from \"react-router-dom\";\nimport { useState } from \"react/cjs/react.development\";\n\nfunction Register(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function changeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function changePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onRegister(email, password);\n  }\n\n  return (\n    <div className=\"autorization\">\n      <form\n        onSubmit={handleSubmit}\n        name=\"register\"\n        id=\"register-form\"\n        method=\"post\"\n        className=\"autorization-form\"\n        required\n      >\n        <h3 className=\"autorization-form__title\">Регистрация</h3>\n        <input\n          onChange={changeEmail}\n          value={email}\n          type=\"email\"\n          placeholder=\"Email\"\n          className=\"autorization-form__input\"\n          required\n        ></input>\n        <input\n          onChange={changePassword}\n          value={password}\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"autorization-form__input\"\n          required\n        ></input>\n        <input\n          type=\"submit\"\n          name=\"submit\"\n          value=\"Зарегистрироваться\"\n          className=\"autorization-form__submit\"\n        ></input>\n        <p className=\"autorization__paragraph\">\n          Уже зарегистрировались?{\" \"}\n          <Link className=\"autorization__paragraph\" to=\"./sign-in\">\n            Войти\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\nexport default withRouter(Register);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  }).then((result) => {\n    if (result.ok) {\n      return result.json();\n    } else {\n      return Promise.reject(`Ошибка ${result.status}`);\n    }\n  });\n};\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  })\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        return Promise.reject(`Ошибка ${response.status}`);\n      }\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      } else {\n        return;\n      }\n    });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((result) => {\n    if (result.ok) {\n      return result.json();\n    } else {\n      return Promise.reject(`Ошибка ${result.status}`);\n    }\n  });\n};\n","import CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Api from \"../utils/Api.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Register from \"./Register\";\nimport { Route, withRouter, useHistory, Redirect } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/auth\";\n\nfunction App(props) {\n  const [currentUser, setCurrentUser] = useState({});\n  const [userInfo, setuserInfo] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [headerInfo, setHeaderInfo] = useState(false);\n\n  //попапы\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditRegisterPopupOpen, setIsEditRegisterPopupOpen] = useState(false);\n  const [isEditRegisterSuccsess, setIsEditRegisterSuccsess] = useState(false);\n\n  //карточки\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [selectedCardTitle, setSelectedCardTitle] = useState(null);\n  const [cards, setCards] = useState([]);\n\n  //обработчики попапов\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function onCardClick(card) {\n    setSelectedCard(card.link);\n    setSelectedCardTitle(card.name);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditRegisterPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function registerSuccsess() {\n    setIsEditRegisterSuccsess(true);\n  }\n\n  function handleRegisterPopupOpen() {\n    setIsEditRegisterPopupOpen(true);\n  }\n\n  const closeByEsc = (event) => {\n    const EscKeyCode = 27;\n    if (event.keyCode === EscKeyCode) {\n      closeAllPopups();\n    }\n  };\n\n  const closeByOverlay = (event) => {\n    const overlay = \"popup_visible\";\n    const closeButton = \"popup__close-btn\";\n    const target = event.target.className;\n    if (target.includes(overlay) || target.includes(closeButton)) {\n      closeAllPopups();\n    }\n  };\n\n  //слушатели для закрытия по оверлею и Esc\n  useEffect(() => {\n    window.addEventListener(\"keydown\", closeByEsc);\n    window.addEventListener(\"click\", closeByOverlay);\n  }, [loggedIn]);\n\n  //получаем данные профиля\n  useEffect(() => {\n    if (loggedIn) {\n      Api.getProfileInfo()\n      .then((result) => {\n        setCurrentUser(result);\n      })\n      .catch(() => console.log(\"Ошибка при получении данных\"));\n    }\n  }, [loggedIn]);\n\n  //Обновлаяем данные профиля\n  async function handleUpdateUser(name, about) {\n    try {\n      const result = await Api.editProfileInfo(name, about);\n      if (result) {\n        setCurrentUser(result);\n        closeAllPopups();\n      }\n    } catch (e) {\n      console.log(`Ошибка при отправке данных ${e}`);\n    }\n  }\n\n  //Обновляем аватар\n  async function handleUpdateAvatar(avatar) {\n    try {\n      const result = await Api.editAvatarInfo(avatar);\n      if (result) {\n        setCurrentUser(result);\n        closeAllPopups();\n      }\n    } catch (e) {\n      console.log(`Ошибка при отправке данных ${e}`);\n    }\n  }\n\n  //берем карточки с сервера\n  async function getCards() {\n    try {\n      const result = await Api.getCards();\n      if (result) {\n        const card = result.map((card) => {\n          return {\n            key: card._id,\n            link: card.link,\n            name: card.name,\n            _id: card._id,\n            likes: card.likes,\n            owner: card.owner,\n          };\n        });\n        setCards(card);\n      }\n    } catch (e) {\n      console.log(`Ошибка при отправке данных ${e}`);\n    }\n  }\n\n  useEffect(() => {\n    if (loggedIn) {\n      getCards();\n    }\n  }, [loggedIn]);\n\n  // лайк карточки\n  async function handleCardLike(card) {\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\n      try {\n        const result = await Api.changeLikeStatus(card._id, !isLiked);\n        if (result) {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? result : c))\n        );\n        }\n      } catch (e) {\n        console.log(`Ошибка при отправке данных ${e}`);\n      }\n  }\n\n  //Добавление карточки\n  async function handleAddPlaceSubmit(name, link) {\n    try {\n      const result = await Api.postCard(name, link);\n      setCards([result, ...cards]);\n      closeAllPopups();\n    } catch (e) {\n      console.log(`Ошибка при отправке данных ${e}`);\n    }\n  }\n\n  //удаление карточки\n  async function handleCardDelete(card) {\n    try {\n      await Api.deleteCard(card._id);\n      setCards(cards.filter((c) => c._id !== card._id));\n    } catch (e) {\n      console.log(`Ошибка при отправке данных ${e}`);\n    }\n  }\n\n  //регистрация\n  async function handleRegister(email, password) {\n    try {\n      let result = await auth.register(email, password);\n      if (result) {\n        registerSuccsess();\n        handleRegisterPopupOpen();\n        props.history.push(\"./sign-in\");\n      } \n    } catch (e) {\n      handleRegisterPopupOpen();\n      console.log(\"Ошибка\");\n    }\n  }\n\n  //логин\n  async function handleLogin(email, password) {\n    try {\n      let result = await auth.login(email, password);\n      if (result.token) {\n        setLoggedIn(true);\n        props.history.push(\"./\");\n        setuserInfo(email);\n        closeAllPopups()\n      }\n    } catch (e) {\n      setIsEditRegisterSuccsess(false)\n      handleRegisterPopupOpen(); \n      console.log(`Ошибка ${e}`);\n    }\n  }\n\n  //проверяем токен\n  async function tokenCheck() {\n    try {\n      const jwt = localStorage.getItem(\"jwt\");\n      const data = await auth.getContent(jwt);\n      if (jwt) {\n        const userData = {\n          id: data.data._id,\n          email: data.data.email,\n        };\n        setLoggedIn(true);\n        props.history.push(\"/\");\n        setuserInfo(userData.email);\n      }\n    } catch (e) {\n      console.log(`ошибка ${e}`);\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function clicked() {\n    setHeaderInfo(true);\n    setHeaderInfo(!headerInfo);\n  }\n\n  const history = useHistory();\n  function signOut() {\n    localStorage.removeItem(\"jwt\");\n    history.push(\"./signup\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Route path=\"/sign-in\">\n            <Header link=\"Регистрация\" path=\"/sign-up\" onSignOut={signOut} />\n            <Login\n              onLogin={handleLogin}\n              onPopupOpen={handleRegisterPopupOpen}\n            />\n            <InfoTooltip\n              isOpen={isEditRegisterPopupOpen}\n              onClose={closeAllPopups}\n              isSuccsess={isEditRegisterSuccsess}\n              fail=\"Что-то пошло не так! Пропробуйте еще раз\"\n              succsess=\"Вы успешно зарегистрировались!\"\n            />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Header\n              link=\"Войти\"\n              path=\"/sign-in\"\n              onClick={clicked}\n              onSignOut={signOut}\n            />\n            <Register onRegister={handleRegister} onClick={clicked} />\n            <InfoTooltip\n              isOpen={isEditRegisterPopupOpen}\n              onClose={closeAllPopups}\n              isSuccsess={isEditRegisterSuccsess}\n              fail=\"Что-то пошло не так! Пропробуйте еще раз\"\n            />\n          </Route>\n\n          <Route path=\"/\" exact>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n\n            <Header\n              link=\"Выйти\"\n              userEmail={userInfo}\n              path=\"/sign-in\"\n              onClick={clicked}\n              isClicked={headerInfo}\n              onSignOut={signOut}\n            ></Header>\n            <ProtectedRoute\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditProfile={handleEditProfileClick}\n              onCardClick={onCardClick}\n              onCardLike={handleCardLike}\n              onDeleteCard={handleCardDelete}\n              cards={cards}\n            ></ProtectedRoute>\n            <Footer />\n          </Route>\n          <EditProfilePopup\n            onUpdateUser={handleUpdateUser}\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n          />\n          <EditAvatarPopup\n            onUpdateAvatar={handleUpdateAvatar}\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n          />\n          <AddPlacePopup\n            onSubmit={handleAddPlaceSubmit}\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n          />\n          <ImagePopup\n            title={selectedCardTitle}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n        </div>\n        <Route path=\"*\">\n          {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n        </Route>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}